# 飞书消息自动翻译系统 - 环境变量配置
# 复制此文件为 .env 并修改相应的值

# ===========================================
# n8n 基础配置
# ===========================================

# 基础认证配置
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=password123

# 数据文件夹配置
N8N_USER_FOLDER=/home/node/.n8n

# 加密密钥 (请修改为随机字符串，长度至少32字符)
N8N_ENCRYPTION_KEY=your_encryption_key_here_at_least_32_characters

# 网络配置
N8N_HOST=0.0.0.0
N8N_PORT=5678
N8N_PROTOCOL=http
WEBHOOK_URL=http://localhost:5678

# 执行配置
EXECUTIONS_PROCESS=main
N8N_METRICS=true
N8N_LOG_LEVEL=info

# 安全配置
N8N_SECURE_COOKIE=false

# ===========================================
# 数据库配置 (PostgreSQL)
# ===========================================

POSTGRES_DB=n8n
POSTGRES_USER=n8n_user
POSTGRES_PASSWORD=your_postgres_password_here
POSTGRES_NON_ROOT_USER=n8n_user
POSTGRES_NON_ROOT_PASSWORD=your_postgres_password_here

# ===========================================
# Redis 配置
# ===========================================

REDIS_PASSWORD=your_redis_password_here

# ===========================================
# 飞书API配置
# ===========================================

# 飞书应用凭证
FEISHU_APP_ID=your_feishu_app_id
FEISHU_APP_SECRET=your_feishu_app_secret
FEISHU_BOT_TOKEN=your_feishu_bot_token

# 飞书API端点
FEISHU_API_BASE_URL=https://open.feishu.cn/open-apis

# ===========================================
# 翻译API配置
# ===========================================

# ngrok配置
NGROK_AUTHTOKEN=your_ngrok_token_here

# 翻译API地址 (运行时动态生成)
TRANSLATION_API_URL=https://your-ngrok-url.ngrok.io

# ===========================================
# 模型配置
# ===========================================

# 支持的语言对
SUPPORTED_LANGUAGES=zh-cn,en

# 模型缓存目录
MODEL_CACHE_DIR=./models

# 是否启用GPU加速
USE_GPU=false

# ===========================================
# 性能配置
# ===========================================

# API请求超时时间(秒)
API_TIMEOUT=30

# 最大并发请求数
MAX_CONCURRENT_REQUESTS=10

# Redis缓存过期时间(秒)
CACHE_EXPIRE_TIME=3600

# ===========================================
# 日志配置
# ===========================================

# 日志级别: debug, info, warning, error
LOG_LEVEL=info

# 日志文件路径
LOG_FILE_PATH=./logs/app.log

# 是否启用日志轮转
LOG_ROTATION=true

# ===========================================
# 开发配置
# ===========================================

# 开发模式
DEBUG=false

# 是否启用自动重载
AUTO_RELOAD=false

# 测试模式
TEST_MODE=false

# ===========================================
# 监控配置
# ===========================================

# 是否启用健康检查
HEALTH_CHECK_ENABLED=true

# 健康检查间隔(秒)
HEALTH_CHECK_INTERVAL=30

# 是否启用指标收集
METRICS_ENABLED=true

# ===========================================
# 注意事项
# ===========================================

# 1. 所有密码和密钥请务必修改为强密码
# 2. 生产环境请使用HTTPS
# 3. 定期备份数据库和配置文件
# 4. 监控日志文件大小，避免磁盘空间不足
# 5. 定期更新Docker镜像以获取安全补丁 